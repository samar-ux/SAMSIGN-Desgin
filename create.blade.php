@extends('Dashboard.layouts.design')
@section('title', 'Tempalte-Edit')
@section('main-content')
    <style>
        div:where(.swal2-container) .swal2-html-container {
            overflow: hidden;
        }

        .swal2-confirm {
            display: none !important;
        }

        .swal2-popup {
            /* width: 46vw; */
        }

        video {
            object-fit: cover;
            width: 100%;
        }

        .resize-drag {
            /* position: absolute; */
            user-select: none;
            transform: translate(0%, 0%);
        }

        .resize-handler {
            height: 10px;
            width: 10px;
            background-color: #0055ff;
            position: absolute;
            border-radius: 100px;
            border: 1px solid #ffffff;
            user-select: none;
            display: none;
        }

        .resize-handler:hover {
            background-color: #0000cc;
        }

        .resize-handler.rotate {
            cursor: url('https://findicons.com/files/icons/1620/crystal_project/16/rotate_ccw.png'), auto;
        }

        .resize-drag { 
            touch-action: none;
            
        }

        ::-webkit-scrollbar { 
    width: 10px; 
} 
  
/* Track */
::-webkit-scrollbar-track { 
    background: #888; 
    border-radius: 5px; 
} 
  
/* Handle */
::-webkit-scrollbar-thumb { 
    background: #000; 
    border-radius: 5px; 
} 
  
/* Handle on hover */
::-webkit-scrollbar-thumb:hover { 
    background: #555; 
}
    </style>
    <section style="background-color: #000;">
        @include('Dashboard.Template.Make.header')
        <div class="grid md:grid-cols-3 gap-4 grid-flow-col auto-cols-max" style="background-color: #000;direction: rtl;">

            <div class="min-h-screen flex flex-col flex-auto flex-shrink-0 antialiased bg-gray-50 text-gray-800"
                style="background-color: #000;border: 0.1px solid #707070;
                border-radius: 0px 0px 0px 13px;
                border-top-color: #121212;">
                <div style="background:rgb(18 18 18)!important;position: relative;width:8vw;    border: 0.1px solid #121212;
                    border-radius: 0px 0px 0px 13px;"
                    class="min-h-screen fixed flex flex-col top-0 left-0 w-64 h-full shadow-lg">
                    <div class="overflow-y-auto overflow-x-hidden flex-grow">
                        <ul class="flex flex-col  space-y-12 mt-4" style="    text-align: center;">
                            <li>

                                <button type="button" id="all-templates"
                                    style="background-color:rgb(18 18 18)!important;"
                                    class="model-content relative text-center items-center h-11 text-gray-500 hover:text-gray-200 border-l-4 border-transparent    ">
                                    <span class="inline-flex justify-center items-center">
                                        <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <mask id="path-1-inside-1_628_601" fill="white">
                                                <path
                                                    d="M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H15C20.43 1.75 22.75 4.07 22.75 9.5V15.5C22.75 20.93 20.43 23.25 15 23.25ZM9 3.25C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V9.5C21.25 4.89 19.61 3.25 15 3.25H9Z" />
                                            </mask>
                                            <path
                                                d="M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H15C20.43 1.75 22.75 4.07 22.75 9.5V15.5C22.75 20.93 20.43 23.25 15 23.25ZM9 3.25C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V9.5C21.25 4.89 19.61 3.25 15 3.25H9Z"
                                                fill="#292D32" />
                                            <path
                                                d="M15 21.75H9V24.75H15V21.75ZM9 21.75C6.45719 21.75 4.99977 21.201 4.14941 20.3506C3.29905 19.5002 2.75 18.0428 2.75 15.5H-0.25C-0.25 18.3872 0.360951 20.8048 2.02809 22.4719C3.69523 24.139 6.11281 24.75 9 24.75V21.75ZM2.75 15.5V9.5H-0.25V15.5H2.75ZM2.75 9.5C2.75 6.95719 3.29905 5.49977 4.14941 4.64941C4.99977 3.79905 6.45719 3.25 9 3.25V0.25C6.11281 0.25 3.69523 0.860951 2.02809 2.52809C0.360951 4.19523 -0.25 6.61281 -0.25 9.5H2.75ZM9 3.25H15V0.25H9V3.25ZM15 3.25C17.5428 3.25 19.0002 3.79905 19.8506 4.64941C20.701 5.49977 21.25 6.95719 21.25 9.5H24.25C24.25 6.61281 23.639 4.19523 21.9719 2.52809C20.3048 0.860951 17.8872 0.25 15 0.25V3.25ZM21.25 9.5V15.5H24.25V9.5H21.25ZM21.25 15.5C21.25 18.0428 20.701 19.5002 19.8506 20.3506C19.0002 21.201 17.5428 21.75 15 21.75V24.75C17.8872 24.75 20.3048 24.139 21.9719 22.4719C23.639 20.8048 24.25 18.3872 24.25 15.5H21.25ZM9 1.75C6.58917 1.75 4.50797 2.16321 3.08559 3.58559C1.66321 5.00797 1.25 7.08917 1.25 9.5H4.25C4.25 7.30083 4.65679 6.25703 5.20691 5.70691C5.75703 5.15679 6.80083 4.75 9 4.75V1.75ZM1.25 9.5V15.5H4.25V9.5H1.25ZM1.25 15.5C1.25 17.9108 1.66321 19.992 3.08559 21.4144C4.50797 22.8368 6.58917 23.25 9 23.25V20.25C6.80083 20.25 5.75703 19.8432 5.20691 19.2931C4.65679 18.743 4.25 17.6992 4.25 15.5H1.25ZM9 23.25H15V20.25H9V23.25ZM15 23.25C17.4108 23.25 19.492 22.8368 20.9144 21.4144C22.3368 19.992 22.75 17.9108 22.75 15.5H19.75C19.75 17.6992 19.3432 18.743 18.7931 19.2931C18.243 19.8432 17.1992 20.25 15 20.25V23.25ZM22.75 15.5V9.5H19.75V15.5H22.75ZM22.75 9.5C22.75 7.08917 22.3368 5.00797 20.9144 3.58559C19.492 2.16321 17.4108 1.75 15 1.75V4.75C17.1992 4.75 18.243 5.15679 18.7931 5.70691C19.3432 6.25703 19.75 7.30083 19.75 9.5H22.75ZM15 1.75H9V4.75H15V1.75Z"
                                                fill="white" fill-opacity="0.87" mask="url(#path-1-inside-1_628_601)" />
                                            <mask id="path-3-inside-2_628_601" fill="white">
                                                <path
                                                    d="M12 23.25C11.59 23.25 11.25 22.91 11.25 22.5V2.5C11.25 2.09 11.59 1.75 12 1.75C12.41 1.75 12.75 2.09 12.75 2.5V22.5C12.75 22.91 12.41 23.25 12 23.25Z" />
                                            </mask>
                                            <path
                                                d="M12 23.25C11.59 23.25 11.25 22.91 11.25 22.5V2.5C11.25 2.09 11.59 1.75 12 1.75C12.41 1.75 12.75 2.09 12.75 2.5V22.5C12.75 22.91 12.41 23.25 12 23.25Z"
                                                fill="#292D32" />
                                            <path
                                                d="M12 21.75C12.4184 21.75 12.75 22.0816 12.75 22.5H9.75C9.75 23.7384 10.7616 24.75 12 24.75V21.75ZM12.75 22.5V2.5H9.75V22.5H12.75ZM12.75 2.5C12.75 2.91843 12.4184 3.25 12 3.25V0.25C10.7616 0.25 9.75 1.26157 9.75 2.5H12.75ZM12 3.25C11.5816 3.25 11.25 2.91843 11.25 2.5H14.25C14.25 1.26157 13.2384 0.25 12 0.25V3.25ZM11.25 2.5V22.5H14.25V2.5H11.25ZM11.25 22.5C11.25 22.0816 11.5816 21.75 12 21.75V24.75C13.2384 24.75 14.25 23.7384 14.25 22.5H11.25Z"
                                                fill="white" fill-opacity="0.87" mask="url(#path-3-inside-2_628_601)" />
                                        </svg>

                                    </span>
                                    <br>
                                    <span class=" font-semibold text-sm tracking-wide truncate font-sans">Template</span>
                                </button>
                            </li>

                            <li>
                                <button type="button" id="list-template"
                                    class="relative text-center items-center h-11 text-gray-500 hover:text-gray-200 border-l-4 border-transparent"
                                    style="background-color: #201f1f00!important;">
                                    <span class="inline-flex justify-center items-center">
                                        <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <mask id="path-1-inside-1_628_1039" fill="white">
                                                <path
                                                    d="M15.5 23.25H9.5C4.07 23.25 1.75 20.93 1.75 15.5V9.5C1.75 4.07 4.07 1.75 9.5 1.75H15.5C20.93 1.75 23.25 4.07 23.25 9.5V15.5C23.25 20.93 20.93 23.25 15.5 23.25ZM9.5 3.25C4.89 3.25 3.25 4.89 3.25 9.5V15.5C3.25 20.11 4.89 21.75 9.5 21.75H15.5C20.11 21.75 21.75 20.11 21.75 15.5V9.5C21.75 4.89 20.11 3.25 15.5 3.25H9.5Z" />
                                            </mask>
                                            <path
                                                d="M15.5 23.25H9.5C4.07 23.25 1.75 20.93 1.75 15.5V9.5C1.75 4.07 4.07 1.75 9.5 1.75H15.5C20.93 1.75 23.25 4.07 23.25 9.5V15.5C23.25 20.93 20.93 23.25 15.5 23.25ZM9.5 3.25C4.89 3.25 3.25 4.89 3.25 9.5V15.5C3.25 20.11 4.89 21.75 9.5 21.75H15.5C20.11 21.75 21.75 20.11 21.75 15.5V9.5C21.75 4.89 20.11 3.25 15.5 3.25H9.5Z"
                                                fill="#292D32" />
                                            <path
                                                d="M15.5 21.75H9.5V24.75H15.5V21.75ZM9.5 21.75C6.95719 21.75 5.49977 21.201 4.64941 20.3506C3.79905 19.5002 3.25 18.0428 3.25 15.5H0.25C0.25 18.3872 0.860951 20.8048 2.52809 22.4719C4.19523 24.139 6.61281 24.75 9.5 24.75V21.75ZM3.25 15.5V9.5H0.25V15.5H3.25ZM3.25 9.5C3.25 6.95719 3.79905 5.49977 4.64941 4.64941C5.49977 3.79905 6.95719 3.25 9.5 3.25V0.25C6.61281 0.25 4.19523 0.860951 2.52809 2.52809C0.860951 4.19523 0.25 6.61281 0.25 9.5H3.25ZM9.5 3.25H15.5V0.25H9.5V3.25ZM15.5 3.25C18.0428 3.25 19.5002 3.79905 20.3506 4.64941C21.201 5.49977 21.75 6.95719 21.75 9.5H24.75C24.75 6.61281 24.139 4.19523 22.4719 2.52809C20.8048 0.860951 18.3872 0.25 15.5 0.25V3.25ZM21.75 9.5V15.5H24.75V9.5H21.75ZM21.75 15.5C21.75 18.0428 21.201 19.5002 20.3506 20.3506C19.5002 21.201 18.0428 21.75 15.5 21.75V24.75C18.3872 24.75 20.8048 24.139 22.4719 22.4719C24.139 20.8048 24.75 18.3872 24.75 15.5H21.75ZM9.5 1.75C7.08917 1.75 5.00797 2.16321 3.58559 3.58559C2.16321 5.00797 1.75 7.08917 1.75 9.5H4.75C4.75 7.30083 5.15679 6.25703 5.70691 5.70691C6.25703 5.15679 7.30083 4.75 9.5 4.75V1.75ZM1.75 9.5V15.5H4.75V9.5H1.75ZM1.75 15.5C1.75 17.9108 2.16321 19.992 3.58559 21.4144C5.00797 22.8368 7.08917 23.25 9.5 23.25V20.25C7.30083 20.25 6.25703 19.8432 5.70691 19.2931C5.15679 18.743 4.75 17.6992 4.75 15.5H1.75ZM9.5 23.25H15.5V20.25H9.5V23.25ZM15.5 23.25C17.9108 23.25 19.992 22.8368 21.4144 21.4144C22.8368 19.992 23.25 17.9108 23.25 15.5H20.25C20.25 17.6992 19.8432 18.743 19.2931 19.2931C18.743 19.8432 17.6992 20.25 15.5 20.25V23.25ZM23.25 15.5V9.5H20.25V15.5H23.25ZM23.25 9.5C23.25 7.08917 22.8368 5.00797 21.4144 3.58559C19.992 2.16321 17.9108 1.75 15.5 1.75V4.75C17.6992 4.75 18.743 5.15679 19.2931 5.70691C19.8432 6.25703 20.25 7.30083 20.25 9.5H23.25ZM15.5 1.75H9.5V4.75H15.5V1.75Z"
                                                fill="white" fill-opacity="0.87" mask="url(#path-1-inside-1_628_1039)" />
                                            <path
                                                d="M7.50002 10.1295C7.23002 10.1295 6.96002 9.97953 6.83002 9.71953C6.64002 9.34953 6.79002 8.89953 7.16002 8.70953C10.5 7.03953 14.49 7.03953 17.83 8.70953C18.2 8.89953 18.35 9.34953 18.17 9.71953C17.98 10.0895 17.54 10.2395 17.16 10.0595C14.24 8.59953 10.75 8.59953 7.83002 10.0595C7.73002 10.1095 7.61002 10.1295 7.50002 10.1295Z"
                                                fill="#292D32" />
                                            <path
                                                d="M7.50027 9.37934C7.49987 9.37923 7.49948 9.37911 7.49909 9.37897C7.49954 9.37858 7.50027 9.37803 7.50144 9.37735C10.6271 7.81692 14.363 7.81692 17.4886 9.37735C17.4908 9.37863 17.4918 9.37963 17.4923 9.3803C17.4933 9.38144 17.4944 9.38321 17.4952 9.38549C17.4947 9.38555 17.4941 9.38559 17.4934 9.38555C17.4925 9.3855 17.4895 9.38527 17.4842 9.3831C14.3619 7.82642 10.6377 7.82501 7.51437 9.37886C7.51419 9.37887 7.51399 9.37889 7.5138 9.37891C7.50965 9.3793 7.50495 9.37953 7.50002 9.37953C7.50179 9.37953 7.50171 9.37975 7.50027 9.37934Z"
                                                stroke="white" stroke-opacity="0.87" stroke-width="1.5" />
                                            <mask id="path-5-inside-2_628_1039" fill="white">
                                                <path
                                                    d="M12.5 17.5397C12.09 17.5397 11.75 17.1997 11.75 16.7897V8.42969C11.75 8.01969 12.09 7.67969 12.5 7.67969C12.91 7.67969 13.25 8.01969 13.25 8.42969V16.7997C13.25 17.2097 12.91 17.5397 12.5 17.5397Z" />
                                            </mask>
                                            <path
                                                d="M12.5 17.5397C12.09 17.5397 11.75 17.1997 11.75 16.7897V8.42969C11.75 8.01969 12.09 7.67969 12.5 7.67969C12.91 7.67969 13.25 8.01969 13.25 8.42969V16.7997C13.25 17.2097 12.91 17.5397 12.5 17.5397Z"
                                                fill="#292D32" />
                                            <path
                                                d="M12.5 16.0397C12.9184 16.0397 13.25 16.3713 13.25 16.7897H10.25C10.25 18.0281 11.2616 19.0397 12.5 19.0397V16.0397ZM13.25 16.7897V8.42969H10.25V16.7897H13.25ZM13.25 8.42969C13.25 8.84811 12.9184 9.17969 12.5 9.17969V6.17969C11.2616 6.17969 10.25 7.19126 10.25 8.42969H13.25ZM12.5 9.17969C12.0816 9.17969 11.75 8.84811 11.75 8.42969H14.75C14.75 7.19126 13.7384 6.17969 12.5 6.17969V9.17969ZM11.75 8.42969V16.7997H14.75V8.42969H11.75ZM11.75 16.7997C11.75 16.3552 12.1079 16.0397 12.5 16.0397V19.0397C13.7121 19.0397 14.75 18.0642 14.75 16.7997H11.75Z"
                                                fill="white" fill-opacity="0.87" mask="url(#path-5-inside-2_628_1039)" />
                                        </svg>
                                    </span>
                                    <br>
                                    <span class=" font-semibold text-sm tracking-wide truncate font-sans"> Add List</span>
                                </button>
                            </li>
                            <li>
                                <button type="button" id="text-template"
                                    class="relative text-center items-center h-11    text-gray-500 hover:text-gray-200 border-l-4 border-transparent"
                                    style="background-color: #201f1f00!important;">
                                    <span class="inline-flex justify-center items-center ">
                                        <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <path
                                                d="M13.4302 16.2502H4.4002C3.2802 16.2502 2.2602 15.6703 1.6902 14.7003C1.1202 13.7303 1.1002 12.5702 1.6402 11.5802L6.1502 3.37024C6.7102 2.35024 7.7402 1.74023 8.9102 1.74023C10.0802 1.74023 11.1102 2.35024 11.6702 3.37024L16.1902 11.5802C16.7302 12.5602 16.7102 13.7303 16.1402 14.7003C15.5702 15.6703 14.5502 16.2502 13.4302 16.2502ZM8.9102 3.25024C8.3002 3.25024 7.7602 3.57025 7.4702 4.10025L2.9602 12.3102C2.6802 12.8302 2.6902 13.4302 2.9802 13.9402C3.2802 14.4502 3.8102 14.7502 4.4002 14.7502H13.4302C14.0202 14.7502 14.5502 14.4502 14.8502 13.9402C15.1502 13.4302 15.1602 12.8302 14.8702 12.3102L10.3502 4.10025C10.0602 3.57025 9.5202 3.25024 8.9102 3.25024Z"
                                                fill="#292D32" />
                                            <path
                                                d="M6.80755 3.73134L6.80764 3.73118C7.2356 2.95168 8.01328 2.49023 8.9102 2.49023C9.80712 2.49023 10.5848 2.95168 11.0128 3.73118L11.0132 3.73196L15.5332 11.9419L15.5333 11.9422C15.7411 12.3192 15.8404 12.7327 15.8313 13.1455C15.8379 12.7368 15.7371 12.3257 15.5264 11.9471C15.526 11.9464 15.5256 11.9456 15.5252 11.9449L11.0081 3.74024C11.0079 3.73986 11.0077 3.73948 11.0075 3.73911C10.585 2.96795 9.7923 2.50024 8.9102 2.50024C8.02796 2.50024 7.2351 2.9681 6.81267 3.73949C6.81253 3.73974 6.81239 3.73999 6.81225 3.74024L2.30285 11.9491L2.30283 11.9491L2.29985 11.9547C1.94068 12.6217 1.91334 13.3878 2.20553 14.0648C1.90225 13.3812 1.93149 12.6131 2.29815 11.9402C2.29831 11.9399 2.29846 11.9397 2.29862 11.9394L6.80755 3.73134Z"
                                                stroke="white" stroke-opacity="0.87" stroke-width="1.5" />
                                            <path
                                                d="M15.5 23.25C11.5 23.25 8.25 20 8.25 16C8.25 15.82 8.26 15.64 8.27 15.46C8.29 15.06 8.62 14.75 9.02 14.75H13.43C14.02 14.75 14.55 14.45 14.85 13.94C15.15 13.43 15.16 12.83 14.87 12.31L13.59 9.98001C13.47 9.77001 13.47 9.51999 13.57 9.29999C13.67 9.07999 13.87 8.93 14.1 8.88C14.55 8.79 15.02 8.75 15.5 8.75C19.5 8.75 22.75 12 22.75 16C22.75 20 19.5 23.25 15.5 23.25ZM9.76 16.25C9.89 19.31 12.42 21.75 15.5 21.75C18.67 21.75 21.25 19.17 21.25 16C21.25 12.83 18.67 10.25 15.5 10.25C15.48 10.25 15.47 10.25 15.45 10.25L16.19 11.59C16.73 12.57 16.71 13.74 16.14 14.71C15.57 15.68 14.56 16.26 13.43 16.26H9.76V16.25Z"
                                                fill="#292D32" />
                                            <path
                                                d="M22 16C22 12.4142 19.0858 9.5 15.5 9.5C19.0842 9.5 22 12.4158 22 16ZM22 16C22 19.5858 19.0858 22.5 15.5 22.5C19.0842 22.5 22 19.5842 22 16ZM9.01885 15.5016L9.01886 15.5016L9.01894 15.5C9.01924 15.5 9.01959 15.5 9.02 15.5H13.43C14.2834 15.5 15.0605 15.0614 15.4964 14.3203C15.6452 14.0674 15.7448 13.7973 15.7944 13.5211C15.7444 13.8 15.6441 14.0736 15.4934 14.33C15.0579 15.071 14.2938 15.51 13.43 15.51H9.76V16.2341L9.01 16.25V16.26V16.363C9.00336 16.2428 9 16.1218 9 16C9 15.8443 9.00865 15.6851 9.01885 15.5016ZM15.5335 11.9526C15.7713 12.3845 15.8669 12.8641 15.8202 13.3359C15.8665 12.8653 15.7697 12.3845 15.5263 11.947L14.7478 10.5299L14.7935 10.6126L15.5331 11.9519C15.5332 11.9521 15.5333 11.9523 15.5334 11.9525C15.5334 11.9525 15.5334 11.9525 15.5335 11.9526ZM9.07825 17.01H9.08265C9.55987 20.0672 12.1724 22.4174 15.3324 22.4979C12.1653 22.4174 9.55608 20.0637 9.07825 17.01Z"
                                                stroke="white" stroke-opacity="0.87" stroke-width="1.5" />
                                        </svg>

                                    </span>
                                    <br>
                                    <span class=" font-semibold text-sm tracking-wide truncate font-sans">Text</span>
                                </button>
                            </li>
                            <li>
                                <button type="button" id="shape"
                                    class="relative text-center items-center h-11    text-gray-500 hover:text-gray-200 border-l-4 border-transparent"
                                    style="background-color: #201f1f00!important;">
                                    <span class="inline-flex justify-center items-center ">
                                        <svg width="24" height="25" viewBox="0 0 24 25" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <mask id="path-1-inside-1_628_2547" fill="white">
                                                <path
                                                    d="M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H15C20.43 1.75 22.75 4.07 22.75 9.5V15.5C22.75 20.93 20.43 23.25 15 23.25ZM9 3.25C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V9.5C21.25 4.89 19.61 3.25 15 3.25H9Z" />
                                            </mask>
                                            <path
                                                d="M15 23.25H9C3.57 23.25 1.25 20.93 1.25 15.5V9.5C1.25 4.07 3.57 1.75 9 1.75H15C20.43 1.75 22.75 4.07 22.75 9.5V15.5C22.75 20.93 20.43 23.25 15 23.25ZM9 3.25C4.39 3.25 2.75 4.89 2.75 9.5V15.5C2.75 20.11 4.39 21.75 9 21.75H15C19.61 21.75 21.25 20.11 21.25 15.5V9.5C21.25 4.89 19.61 3.25 15 3.25H9Z"
                                                fill="#292D32" />
                                            <path
                                                d="M15 21.75H9V24.75H15V21.75ZM9 21.75C6.45719 21.75 4.99977 21.201 4.14941 20.3506C3.29905 19.5002 2.75 18.0428 2.75 15.5H-0.25C-0.25 18.3872 0.360951 20.8048 2.02809 22.4719C3.69523 24.139 6.11281 24.75 9 24.75V21.75ZM2.75 15.5V9.5H-0.25V15.5H2.75ZM2.75 9.5C2.75 6.95719 3.29905 5.49977 4.14941 4.64941C4.99977 3.79905 6.45719 3.25 9 3.25V0.25C6.11281 0.25 3.69523 0.860951 2.02809 2.52809C0.360951 4.19523 -0.25 6.61281 -0.25 9.5H2.75ZM9 3.25H15V0.25H9V3.25ZM15 3.25C17.5428 3.25 19.0002 3.79905 19.8506 4.64941C20.701 5.49977 21.25 6.95719 21.25 9.5H24.25C24.25 6.61281 23.639 4.19523 21.9719 2.52809C20.3048 0.860951 17.8872 0.25 15 0.25V3.25ZM21.25 9.5V15.5H24.25V9.5H21.25ZM21.25 15.5C21.25 18.0428 20.701 19.5002 19.8506 20.3506C19.0002 21.201 17.5428 21.75 15 21.75V24.75C17.8872 24.75 20.3048 24.139 21.9719 22.4719C23.639 20.8048 24.25 18.3872 24.25 15.5H21.25ZM9 1.75C6.58917 1.75 4.50797 2.16321 3.08559 3.58559C1.66321 5.00797 1.25 7.08917 1.25 9.5H4.25C4.25 7.30083 4.65679 6.25703 5.20691 5.70691C5.75703 5.15679 6.80083 4.75 9 4.75V1.75ZM1.25 9.5V15.5H4.25V9.5H1.25ZM1.25 15.5C1.25 17.9108 1.66321 19.992 3.08559 21.4144C4.50797 22.8368 6.58917 23.25 9 23.25V20.25C6.80083 20.25 5.75703 19.8432 5.20691 19.2931C4.65679 18.743 4.25 17.6992 4.25 15.5H1.25ZM9 23.25H15V20.25H9V23.25ZM15 23.25C17.4108 23.25 19.492 22.8368 20.9144 21.4144C22.3368 19.992 22.75 17.9108 22.75 15.5H19.75C19.75 17.6992 19.3432 18.743 18.7931 19.2931C18.243 19.8432 17.1992 20.25 15 20.25V23.25ZM22.75 15.5V9.5H19.75V15.5H22.75ZM22.75 9.5C22.75 7.08917 22.3368 5.00797 20.9144 3.58559C19.492 2.16321 17.4108 1.75 15 1.75V4.75C17.1992 4.75 18.243 5.15679 18.7931 5.70691C19.3432 6.25703 19.75 7.30083 19.75 9.5H22.75ZM15 1.75H9V4.75H15V1.75Z"
                                                fill="white" fill-opacity="0.87"
                                                mask="url(#path-1-inside-1_628_2547)" />
                                            <path
                                                d="M9 11.25C7.48 11.25 6.25 10.02 6.25 8.5C6.25 6.98 7.48 5.75 9 5.75C10.52 5.75 11.75 6.98 11.75 8.5C11.75 10.02 10.52 11.25 9 11.25ZM9 7.25C8.31 7.25 7.75 7.81 7.75 8.5C7.75 9.19 8.31 9.75 9 9.75C9.69 9.75 10.25 9.19 10.25 8.5C10.25 7.81 9.69 7.25 9 7.25Z"
                                                fill="#292D32" />
                                            <path
                                                d="M9 10.5C7.89421 10.5 7 9.60579 7 8.5M9 10.5C10.1058 10.5 11 9.60579 11 8.5M9 10.5C10.1042 10.5 11 9.60421 11 8.5M9 10.5C7.89579 10.5 7 9.60421 7 8.5M7 8.5C7 7.39421 7.89421 6.5 9 6.5M7 8.5C7 7.39579 7.89579 6.5 9 6.5M11 8.5C11 7.39421 10.1058 6.5 9 6.5M11 8.5C11 7.39579 10.1042 6.5 9 6.5"
                                                stroke="white" stroke-opacity="0.87" stroke-width="1.5" />
                                            <path
                                                d="M2.66977 20.1996C2.42977 20.1996 2.18977 20.0796 2.04977 19.8696C1.81977 19.5296 1.90977 19.0596 2.25977 18.8296L7.18977 15.5196C8.26977 14.7896 9.75977 14.8796 10.7398 15.7096L11.0698 15.9996C11.5698 16.4296 12.4198 16.4296 12.9098 15.9996L17.0698 12.4296C18.1298 11.5196 19.7998 11.5196 20.8698 12.4296L22.4998 13.8296C22.8098 14.0996 22.8498 14.5696 22.5798 14.8896C22.3098 15.1996 21.8398 15.2396 21.5198 14.9696L19.8898 13.5696C19.3898 13.1396 18.5398 13.1396 18.0398 13.5696L13.8798 17.1396C12.8198 18.0496 11.1498 18.0496 10.0798 17.1396L9.74977 16.8496C9.28977 16.4596 8.52977 16.4196 8.01977 16.7696L3.08977 20.0796C2.95977 20.1596 2.80977 20.1996 2.66977 20.1996Z"
                                                fill="#292D32" />
                                            <path
                                                d="M2.68932 19.4445L7.60784 16.1422L7.60977 16.1409C8.40813 15.6013 9.52533 15.6678 10.2502 16.2778L10.5747 16.5629L10.5747 16.563L10.5807 16.5682C10.986 16.9167 11.5032 17.0709 11.988 17.0721C11.4781 17.0731 10.9661 16.9069 10.5699 16.5719L10.2449 16.2862L10.2449 16.2861L10.2348 16.2775C9.51525 15.6675 8.38487 15.6119 7.59896 16.1487L2.69166 19.4435C2.69092 19.4438 2.69014 19.4442 2.68932 19.4445ZM20.3784 13.0006C19.9888 12.6657 19.4787 12.4979 18.9684 12.4971C19.4773 12.4975 19.9878 12.6646 20.3826 12.9998C20.383 13.0002 20.3834 13.0005 20.3839 13.0009L22.0072 14.3951C22.0074 14.3953 22.0076 14.3955 22.0077 14.3956C22.0084 14.3962 22.0087 14.3966 22.0088 14.3967L22.009 14.3971C22.0092 14.3974 22.0095 14.3982 22.0096 14.3994C22.0086 14.3994 22.008 14.3993 22.0077 14.3992L22.0069 14.3988C22.0065 14.3986 22.0056 14.3981 22.0043 14.3971C22.004 14.3969 22.0037 14.3966 22.0034 14.3964L20.3788 13.0009C20.3787 13.0008 20.3786 13.0007 20.3784 13.0006Z"
                                                stroke="white" stroke-opacity="0.87" stroke-width="1.5" />
                                        </svg>

                                    </span>
                                    <br>
                                    <span class="font-semibold text-sm tracking-wide truncate font-sans">Shapes</span>
                                </button>
                            </li>

                            <li>
                                <button id="background-template" style="background-color:rgb(18 18 18)!important;"
                                    class="relative text-center items-center h-11 text-gray-500 hover:text-gray-200 border-l-4 border-transparent    ">
                                    <span class="inline-flex justify-center items-center">
                                        <svg width="25" height="25" viewBox="0 0 25 25" fill="none"
                                            xmlns="http://www.w3.org/2000/svg">
                                            <mask id="path-1-inside-1_628_1039" fill="white">
                                                <path
                                                    d="M15.5 23.25H9.5C4.07 23.25 1.75 20.93 1.75 15.5V9.5C1.75 4.07 4.07 1.75 9.5 1.75H15.5C20.93 1.75 23.25 4.07 23.25 9.5V15.5C23.25 20.93 20.93 23.25 15.5 23.25ZM9.5 3.25C4.89 3.25 3.25 4.89 3.25 9.5V15.5C3.25 20.11 4.89 21.75 9.5 21.75H15.5C20.11 21.75 21.75 20.11 21.75 15.5V9.5C21.75 4.89 20.11 3.25 15.5 3.25H9.5Z" />
                                            </mask>
                                            <path
                                                d="M15.5 23.25H9.5C4.07 23.25 1.75 20.93 1.75 15.5V9.5C1.75 4.07 4.07 1.75 9.5 1.75H15.5C20.93 1.75 23.25 4.07 23.25 9.5V15.5C23.25 20.93 20.93 23.25 15.5 23.25ZM9.5 3.25C4.89 3.25 3.25 4.89 3.25 9.5V15.5C3.25 20.11 4.89 21.75 9.5 21.75H15.5C20.11 21.75 21.75 20.11 21.75 15.5V9.5C21.75 4.89 20.11 3.25 15.5 3.25H9.5Z"
                                                fill="#292D32" />
                                            <path
                                                d="M15.5 21.75H9.5V24.75H15.5V21.75ZM9.5 21.75C6.95719 21.75 5.49977 21.201 4.64941 20.3506C3.79905 19.5002 3.25 18.0428 3.25 15.5H0.25C0.25 18.3872 0.860951 20.8048 2.52809 22.4719C4.19523 24.139 6.61281 24.75 9.5 24.75V21.75ZM3.25 15.5V9.5H0.25V15.5H3.25ZM3.25 9.5C3.25 6.95719 3.79905 5.49977 4.64941 4.64941C5.49977 3.79905 6.95719 3.25 9.5 3.25V0.25C6.61281 0.25 4.19523 0.860951 2.52809 2.52809C0.860951 4.19523 0.25 6.61281 0.25 9.5H3.25ZM9.5 3.25H15.5V0.25H9.5V3.25ZM15.5 3.25C18.0428 3.25 19.5002 3.79905 20.3506 4.64941C21.201 5.49977 21.75 6.95719 21.75 9.5H24.75C24.75 6.61281 24.139 4.19523 22.4719 2.52809C20.8048 0.860951 18.3872 0.25 15.5 0.25V3.25ZM21.75 9.5V15.5H24.75V9.5H21.75ZM21.75 15.5C21.75 18.0428 21.201 19.5002 20.3506 20.3506C19.5002 21.201 18.0428 21.75 15.5 21.75V24.75C18.3872 24.75 20.8048 24.139 22.4719 22.4719C24.139 20.8048 24.75 18.3872 24.75 15.5H21.75ZM9.5 1.75C7.08917 1.75 5.00797 2.16321 3.58559 3.58559C2.16321 5.00797 1.75 7.08917 1.75 9.5H4.75C4.75 7.30083 5.15679 6.25703 5.70691 5.70691C6.25703 5.15679 7.30083 4.75 9.5 4.75V1.75ZM1.75 9.5V15.5H4.75V9.5H1.75ZM1.75 15.5C1.75 17.9108 2.16321 19.992 3.58559 21.4144C5.00797 22.8368 7.08917 23.25 9.5 23.25V20.25C7.30083 20.25 6.25703 19.8432 5.70691 19.2931C5.15679 18.743 4.75 17.6992 4.75 15.5H1.75ZM9.5 23.25H15.5V20.25H9.5V23.25ZM15.5 23.25C17.9108 23.25 19.992 22.8368 21.4144 21.4144C22.8368 19.992 23.25 17.9108 23.25 15.5H20.25C20.25 17.6992 19.8432 18.743 19.2931 19.2931C18.743 19.8432 17.6992 20.25 15.5 20.25V23.25ZM23.25 15.5V9.5H20.25V15.5H23.25ZM23.25 9.5C23.25 7.08917 22.8368 5.00797 21.4144 3.58559C19.992 2.16321 17.9108 1.75 15.5 1.75V4.75C17.6992 4.75 18.743 5.15679 19.2931 5.70691C19.8432 6.25703 20.25 7.30083 20.25 9.5H23.25ZM15.5 1.75H9.5V4.75H15.5V1.75Z"
                                                fill="white" fill-opacity="0.87"
                                                mask="url(#path-1-inside-1_628_1039)" />
                                            <path
                                                d="M7.50002 10.1295C7.23002 10.1295 6.96002 9.97953 6.83002 9.71953C6.64002 9.34953 6.79002 8.89953 7.16002 8.70953C10.5 7.03953 14.49 7.03953 17.83 8.70953C18.2 8.89953 18.35 9.34953 18.17 9.71953C17.98 10.0895 17.54 10.2395 17.16 10.0595C14.24 8.59953 10.75 8.59953 7.83002 10.0595C7.73002 10.1095 7.61002 10.1295 7.50002 10.1295Z"
                                                fill="#292D32" />
                                            <path
                                                d="M7.50027 9.37934C7.49987 9.37923 7.49948 9.37911 7.49909 9.37897C7.49954 9.37858 7.50027 9.37803 7.50144 9.37735C10.6271 7.81692 14.363 7.81692 17.4886 9.37735C17.4908 9.37863 17.4918 9.37963 17.4923 9.3803C17.4933 9.38144 17.4944 9.38321 17.4952 9.38549C17.4947 9.38555 17.4941 9.38559 17.4934 9.38555C17.4925 9.3855 17.4895 9.38527 17.4842 9.3831C14.3619 7.82642 10.6377 7.82501 7.51437 9.37886C7.51419 9.37887 7.51399 9.37889 7.5138 9.37891C7.50965 9.3793 7.50495 9.37953 7.50002 9.37953C7.50179 9.37953 7.50171 9.37975 7.50027 9.37934Z"
                                                stroke="white" stroke-opacity="0.87" stroke-width="1.5" />
                                            <mask id="path-5-inside-2_628_1039" fill="white">
                                                <path
                                                    d="M12.5 17.5397C12.09 17.5397 11.75 17.1997 11.75 16.7897V8.42969C11.75 8.01969 12.09 7.67969 12.5 7.67969C12.91 7.67969 13.25 8.01969 13.25 8.42969V16.7997C13.25 17.2097 12.91 17.5397 12.5 17.5397Z" />
                                            </mask>
                                            <path
                                                d="M12.5 17.5397C12.09 17.5397 11.75 17.1997 11.75 16.7897V8.42969C11.75 8.01969 12.09 7.67969 12.5 7.67969C12.91 7.67969 13.25 8.01969 13.25 8.42969V16.7997C13.25 17.2097 12.91 17.5397 12.5 17.5397Z"
                                                fill="#292D32" />
                                            <path
                                                d="M12.5 16.0397C12.9184 16.0397 13.25 16.3713 13.25 16.7897H10.25C10.25 18.0281 11.2616 19.0397 12.5 19.0397V16.0397ZM13.25 16.7897V8.42969H10.25V16.7897H13.25ZM13.25 8.42969C13.25 8.84811 12.9184 9.17969 12.5 9.17969V6.17969C11.2616 6.17969 10.25 7.19126 10.25 8.42969H13.25ZM12.5 9.17969C12.0816 9.17969 11.75 8.84811 11.75 8.42969H14.75C14.75 7.19126 13.7384 6.17969 12.5 6.17969V9.17969ZM11.75 8.42969V16.7997H14.75V8.42969H11.75ZM11.75 16.7997C11.75 16.3552 12.1079 16.0397 12.5 16.0397V19.0397C13.7121 19.0397 14.75 18.0642 14.75 16.7997H11.75Z"
                                                fill="white" fill-opacity="0.87"
                                                mask="url(#path-5-inside-2_628_1039)" />
                                        </svg>
                                    </span>
                                    <br>
                                    <span class=" font-semibold text-sm tracking-wide truncate font-sans">Photos</span>
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div  class="min-h-screen col-start-10 col-end-1 col-span-2" style="height:100%!important;direction: ltr;">
                <div class="mb-2">
                    @include('Dashboard.Template.Make.text')
                    @include('Dashboard.Template.Make.shape')
                </div>
                <div id="body-design" class="min-h-screen" style="overflow: hidden">    
                    @if($menu->view)
                    <div id="html-content-holder" class="preview  m-3 border rounded-xl border-gray-800"
                        style="{{$menu->style != null?$menu->style: "overflow: hidden;
                        display:flex;background-color: #414040; background-size: cover;background-repeat: no-repeat;background-position: center;width: 100%!important;height: 100vh!important;    margin: 3% auto;"}}">
                    @else
                    <div id="html-content-holder" class="resize-drag preview  m-3 border rounded-xl border-gray-800"
                        style="{{$menu->style != null?$menu->style:"overflow: hidden;
                        display:flex;background-color: #414040; background-size: cover;background-repeat: no-repeat;background-position: center;width: 100%!important;height: 100vh!important;    margin: 3% auto;"}}">
                    @endif
                  
                        @if($menu->DesignTemplate)
                            @foreach ($menu->DesignTemplate as $content)
                                {!! html_entity_decode($content->content) !!}
                            @endforeach
                        @endif
                </div>
            </div>
                @include('Dashboard.Template.Make.navbar')
            </div>
        </div>
    </section>


    <div id="previewImg" style="display: none;"></div>
    @include('Dashboard.Template.Make.background')
    @include('Dashboard.Template.Make.template')
    @include('Dashboard.Template.Make.List')
    @include('Dashboard.Template.Make.download')
    @include('Dashboard.Template.Make.resize')
    @include('Dashboard.Template.Make.preview')
@endsection
@section('bottom-js')

    <script src="{{asset('Dashboard/js/Files/code.jquery.com.js')}}"></script>

    <script src="{{ asset('Dashboard/js/Files/html2canvas.min.js') }}"></script>
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>

    <script src="{{asset('Dashboard/js/Files/cdnjs.cloudflare.com_ajax_libs_interact.js_1.10.19_interact.min.js')}}"  crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="{{asset('Dashboard/js/Files/cdn.jsdelivr.net_gh_AmagiTech_JSLoader_amagiloader.js')}}"></script>

    <script src="{{ asset('Dashboard/js/Files/template/background.js') }}"></script>
    <script src="{{ asset('Dashboard/js/Files/template/list.js') }}"></script>
        <script src="{{ asset('Dashboard/js/Files/template/download.js') }}"></script>
    <script src="{{ asset('Dashboard/js/Files/template/resize.js') }}"></script>
    <script src="{{ asset('Dashboard/js/Files/template/template.js') }}"></script>
    <script src="{{ asset('Dashboard/js/Files/template/preview.js') }}"></script>
    <script src="{{ asset('Dashboard/js/Files/editor.js') }}"></script>

    <script>


    var zindex = {{count($menu->DesignTemplate) ==1?count($menu->DesignTemplate)+1:count($menu->DesignTemplate)}};
     
    $(document).on("click",".btn-hidden",function(){
        var layer_id = $(this).attr("layer-id-btn");
        var status = $(this).attr("status");
        if(status == "0"){
            $(".preview [layer-target='"+layer_id+"']").css("display","none");
            $(".preview [layer-target='"+layer_id+"']").attr("data-hide","1");
            $(this).empty();
            $(this).append(`
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.46992 15.2799C9.27992 15.2799 9.08992 15.2099 8.93992 15.0599C8.11992 14.2399 7.66992 13.1499 7.66992 11.9999C7.66992 9.60992 9.60992 7.66992 11.9999 7.66992C13.1499 7.66992 14.2399 8.11992 15.0599 8.93992C15.1999 9.07992 15.2799 9.26992 15.2799 9.46992C15.2799 9.66992 15.1999 9.85992 15.0599 9.99992L9.99992 15.0599C9.84992 15.2099 9.65992 15.2799 9.46992 15.2799ZM11.9999 9.16992C10.4399 9.16992 9.16992 10.4399 9.16992 11.9999C9.16992 12.4999 9.29992 12.9799 9.53992 13.3999L13.3999 9.53992C12.9799 9.29992 12.4999 9.16992 11.9999 9.16992Z" fill="white" fill-opacity="0.6"/>
<path d="M8.41992 11.9999C8.41992 12.4117 8.48946 12.8138 8.62349 13.1925C8.49 12.8144 8.41992 12.412 8.41992 11.9999ZM8.41992 11.9999C8.41992 10.0241 10.0241 8.41992 11.9999 8.41992M8.41992 11.9999C8.41992 10.0257 10.0257 8.41992 11.9999 8.41992M11.9999 8.41992C12.412 8.41992 12.8144 8.49 13.1925 8.62349C12.8138 8.48946 12.4117 8.41992 11.9999 8.41992Z" stroke="white" stroke-opacity="0.6" stroke-width="1.5"/>
<path d="M5.60009 18.5105C5.43009 18.5105 5.25009 18.4505 5.11009 18.3305C4.04009 17.4205 3.08009 16.3005 2.26009 15.0005C1.20009 13.3505 1.20009 10.6605 2.26009 9.00047C4.70009 5.18047 8.25009 2.98047 12.0001 2.98047C14.2001 2.98047 16.3701 3.74047 18.2701 5.17047C18.6001 5.42047 18.6701 5.89047 18.4201 6.22047C18.1701 6.55047 17.7001 6.62047 17.3701 6.37047C15.7301 5.13047 13.8701 4.48047 12.0001 4.48047C8.77009 4.48047 5.68009 6.42047 3.52009 9.81047C2.77009 10.9805 2.77009 13.0205 3.52009 14.1905C4.27009 15.3605 5.13009 16.3705 6.08009 17.1905C6.39009 17.4605 6.43009 17.9305 6.16009 18.2505C6.02009 18.4205 5.81009 18.5105 5.60009 18.5105Z" fill="white" fill-opacity="0.6"/>
<path d="M5.21677 17.4228C4.42466 16.6905 3.6977 15.8275 3.05275 14.8462C3.69869 15.8153 4.423 16.6807 5.21677 17.4228Z" stroke="white" stroke-opacity="0.6" stroke-width="1.5"/>
<path d="M12.0001 21.0205C10.6701 21.0205 9.37006 20.7505 8.12006 20.2205C7.74006 20.0605 7.56006 19.6205 7.72006 19.2405C7.88006 18.8605 8.32006 18.6805 8.70006 18.8405C9.76006 19.2905 10.8701 19.5205 11.9901 19.5205C15.2201 19.5205 18.3101 17.5805 20.4701 14.1905C21.2201 13.0205 21.2201 10.9805 20.4701 9.81049C20.1601 9.32049 19.8201 8.85049 19.4601 8.41049C19.2001 8.09049 19.2501 7.62049 19.5701 7.35049C19.8901 7.09049 20.3601 7.13049 20.6301 7.46049C21.0201 7.94049 21.4001 8.46049 21.7401 9.00049C22.8001 10.6505 22.8001 13.3405 21.7401 15.0005C19.3001 18.8205 15.7501 21.0205 12.0001 21.0205Z" fill="white" fill-opacity="0.6"/>
<path d="M21.1054 9.40011L21.1054 9.4001C20.7835 8.88891 20.4217 8.39334 20.048 7.93343L20.6301 7.46049L20.0496 7.93542C20.0482 7.93376 20.0472 7.93262 20.0464 7.93186C20.046 7.93237 20.0458 7.93283 20.0456 7.93325C20.0444 7.93552 20.0438 7.93763 20.0436 7.93926C20.421 8.40089 20.7774 8.89369 21.1027 9.4077C21.575 10.1455 21.7826 11.0992 21.7826 12.0005C21.7826 12.9022 21.5748 13.8564 21.102 14.5944C18.8436 18.1383 15.543 20.2685 11.995 20.2705M21.1054 9.40011L11.9901 20.2705C11.9917 20.2705 11.9934 20.2705 11.995 20.2705M21.1054 9.40011L21.1091 9.40586M21.1054 9.40011L21.1091 9.40586M11.995 20.2705C11.9967 20.2705 11.9984 20.2705 12.0001 20.2705C15.4369 20.2705 18.7718 18.2542 21.1079 14.5968L11.995 20.2705ZM21.1091 9.40586C21.5446 10.0839 21.7851 11.0197 21.7851 11.9967M21.1091 9.40586L21.7851 11.9967M21.7851 11.9967C21.7851 12.9735 21.5447 13.9128 21.108 14.5968L21.7851 11.9967Z" stroke="white" stroke-opacity="0.6" stroke-width="1.5"/>
<path d="M12.6901 16.2703C12.3401 16.2703 12.0201 16.0203 11.9501 15.6603C11.8701 15.2503 12.1401 14.8603 12.5501 14.7903C13.6501 14.5903 14.5701 13.6703 14.7701 12.5703C14.8501 12.1603 15.2401 11.9003 15.6501 11.9703C16.0601 12.0503 16.3301 12.4403 16.2501 12.8503C15.9301 14.5803 14.5501 15.9503 12.8301 16.2703C12.7801 16.2603 12.7401 16.2703 12.6901 16.2703Z" fill="white" fill-opacity="0.6"/>
<path d="M1.99994 22.7497C1.80994 22.7497 1.61994 22.6797 1.46994 22.5297C1.17994 22.2397 1.17994 21.7597 1.46994 21.4697L8.93994 13.9997C9.22994 13.7097 9.70994 13.7097 9.99994 13.9997C10.2899 14.2897 10.2899 14.7697 9.99994 15.0597L2.52994 22.5297C2.37994 22.6797 2.18994 22.7497 1.99994 22.7497Z" fill="white" fill-opacity="0.6"/>
<path d="M14.53 10.2204C14.34 10.2204 14.15 10.1504 14 10.0004C13.71 9.71043 13.71 9.23043 14 8.94043L21.47 1.47043C21.76 1.18043 22.24 1.18043 22.53 1.47043C22.82 1.76043 22.82 2.24043 22.53 2.53043L15.06 10.0004C14.91 10.1504 14.72 10.2204 14.53 10.2204Z" fill="white" fill-opacity="0.6"/>
</svg>

            `);
            $(this).attr("status","1");
        }else{
            $(".preview [layer-target='"+layer_id+"']").css("display","block");
            $(".preview [layer-target='"+layer_id+"']").attr("data-hide","0");
            $(this).empty();
            $(this).append(`
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M11.9999 16.3299C9.60992 16.3299 7.66992 14.3899 7.66992 11.9999C7.66992 9.60992 9.60992 7.66992 11.9999 7.66992C14.3899 7.66992 16.3299 9.60992 16.3299 11.9999C16.3299 14.3899 14.3899 16.3299 11.9999 16.3299ZM11.9999 9.16992C10.4399 9.16992 9.16992 10.4399 9.16992 11.9999C9.16992 13.5599 10.4399 14.8299 11.9999 14.8299C13.5599 14.8299 14.8299 13.5599 14.8299 11.9999C14.8299 10.4399 13.5599 9.16992 11.9999 9.16992Z" fill="white" fill-opacity="0.6"/>
            <path d="M11.9999 15.5799C10.0241 15.5799 8.41992 13.9757 8.41992 11.9999M11.9999 15.5799C13.9757 15.5799 15.5799 13.9757 15.5799 11.9999M11.9999 15.5799C13.9741 15.5799 15.5799 13.9741 15.5799 11.9999M11.9999 15.5799C10.0257 15.5799 8.41992 13.9741 8.41992 11.9999M8.41992 11.9999C8.41992 10.0241 10.0241 8.41992 11.9999 8.41992M8.41992 11.9999C8.41992 10.0257 10.0257 8.41992 11.9999 8.41992M15.5799 11.9999C15.5799 10.0241 13.9757 8.41992 11.9999 8.41992M15.5799 11.9999C15.5799 10.0257 13.9741 8.41992 11.9999 8.41992" stroke="white" stroke-opacity="0.6" stroke-width="1.5"/>
            <path d="M12.0001 21.0205C8.24008 21.0205 4.69008 18.8205 2.25008 15.0005C1.19008 13.3505 1.19008 10.6605 2.25008 9.00047C4.70008 5.18047 8.25008 2.98047 12.0001 2.98047C15.7501 2.98047 19.3001 5.18047 21.7401 9.00047C22.8001 10.6505 22.8001 13.3405 21.7401 15.0005C19.3001 18.8205 15.7501 21.0205 12.0001 21.0205ZM12.0001 4.48047C8.77008 4.48047 5.68008 6.42047 3.52008 9.81047C2.77008 10.9805 2.77008 13.0205 3.52008 14.1905C5.68008 17.5805 8.77008 19.5205 12.0001 19.5205C15.2301 19.5205 18.3201 17.5805 20.4801 14.1905C21.2301 13.0205 21.2301 10.9805 20.4801 9.81047C18.3201 6.42047 15.2301 4.48047 12.0001 4.48047Z" fill="white" fill-opacity="0.6"/>
            <path d="M2.88214 14.5967L2.88109 14.5951C2.44552 13.9171 2.20508 12.9812 2.20508 12.0042C2.20508 11.0277 2.44531 10.0886 2.88181 9.40471C3.6043 8.27834 4.42053 7.30765 5.30461 6.50355C4.41244 7.31644 3.59869 8.29154 2.88811 9.40658C2.41539 10.1445 2.20758 11.0987 2.20758 12.0005C2.20758 12.9019 2.41523 13.8557 2.88756 14.5935C4.67137 17.3931 7.10553 19.3106 9.79829 19.9938C7.16339 19.3262 4.71518 17.4665 2.88214 14.5967Z" stroke="white" stroke-opacity="0.6" stroke-width="1.5"/>
            </svg>
            `);
            $(this).attr("status","0");
        }
        
    });

     $(document).on("click",".btn-lock",function(){
        var layer_id = $(this).attr("layer-id-btn");
        var status = $(this).attr("status");
        
        if(status == "0"){
            $(".preview [layer-target='"+layer_id+"']").css("pointer-events","none");
            $(".preview [layer-target='"+layer_id+"']").attr("data-lock","1");
            $(this).empty();
            $(this).append(`
            <svg width="20" height="20" viewBox="0 0 24 24"
                                                                fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                <mask id="path-1-inside-1_860_4970" fill="white">
                                                                    <path
                                                                        d="M18 10.75C17.59 10.75 17.25 10.41 17.25 10V8C17.25 4.85 16.36 2.75 12 2.75C7.64 2.75 6.75 4.85 6.75 8V10C6.75 10.41 6.41 10.75 6 10.75C5.59 10.75 5.25 10.41 5.25 10V8C5.25 5.1 5.95 1.25 12 1.25C18.05 1.25 18.75 5.1 18.75 8V10C18.75 10.41 18.41 10.75 18 10.75Z" />
                                                                </mask>
                                                                <path
                                                                    d="M18 10.75C17.59 10.75 17.25 10.41 17.25 10V8C17.25 4.85 16.36 2.75 12 2.75C7.64 2.75 6.75 4.85 6.75 8V10C6.75 10.41 6.41 10.75 6 10.75C5.59 10.75 5.25 10.41 5.25 10V8C5.25 5.1 5.95 1.25 12 1.25C18.05 1.25 18.75 5.1 18.75 8V10C18.75 10.41 18.41 10.75 18 10.75Z"
                                                                    fill="white" fill-opacity="0.6" />
                                                                <path
                                                                    d="M18 9.25C18.4184 9.25 18.75 9.58157 18.75 10H15.75C15.75 11.2384 16.7616 12.25 18 12.25V9.25ZM18.75 10V8H15.75V10H18.75ZM18.75 8C18.75 6.35741 18.5361 4.57866 17.4112 3.23209C16.2349 1.82401 14.3863 1.25 12 1.25V4.25C13.9737 4.25 14.7501 4.72599 15.1088 5.15541C15.5189 5.64634 15.75 6.49259 15.75 8H18.75ZM12 1.25C9.61366 1.25 7.76509 1.82401 6.58882 3.23209C5.46393 4.57866 5.25 6.35741 5.25 8H8.25C8.25 6.49259 8.48107 5.64634 8.89118 5.15541C9.24991 4.72599 10.0263 4.25 12 4.25V1.25ZM5.25 8V10H8.25V8H5.25ZM5.25 10C5.25 9.58157 5.58157 9.25 6 9.25V12.25C7.23843 12.25 8.25 11.2384 8.25 10H5.25ZM6 9.25C6.41843 9.25 6.75 9.58157 6.75 10H3.75C3.75 11.2384 4.76157 12.25 6 12.25V9.25ZM6.75 10V8H3.75V10H6.75ZM6.75 8C6.75 6.61366 6.93185 5.32715 7.58346 4.40002C8.15855 3.58178 9.31596 2.75 12 2.75V-0.25C8.63404 -0.25 6.41645 0.84322 5.12904 2.67498C3.91815 4.39785 3.75 6.48634 3.75 8H6.75ZM12 2.75C14.684 2.75 15.8414 3.58178 16.4165 4.40002C17.0681 5.32715 17.25 6.61366 17.25 8H20.25C20.25 6.48634 20.0819 4.39785 18.871 2.67498C17.5836 0.84322 15.366 -0.25 12 -0.25V2.75ZM17.25 8V10H20.25V8H17.25ZM17.25 10C17.25 9.58157 17.5816 9.25 18 9.25V12.25C19.2384 12.25 20.25 11.2384 20.25 10H17.25Z"
                                                                    fill="white" fill-opacity="0.6"
                                                                    mask="url(#path-1-inside-1_860_4970)" />
                                                                <path
                                                                    d="M12 19.25C10.21 19.25 8.75 17.79 8.75 16C8.75 14.21 10.21 12.75 12 12.75C13.79 12.75 15.25 14.21 15.25 16C15.25 17.79 13.79 19.25 12 19.25ZM12 14.25C11.04 14.25 10.25 15.04 10.25 16C10.25 16.96 11.04 17.75 12 17.75C12.96 17.75 13.75 16.96 13.75 16C13.75 15.04 12.96 14.25 12 14.25Z"
                                                                    fill="white" fill-opacity="0.6" />
                                                                <path
                                                                    d="M12 18.5C10.6242 18.5 9.5 17.3758 9.5 16M12 18.5C13.3758 18.5 14.5 17.3758 14.5 16M12 18.5C13.3742 18.5 14.5 17.3742 14.5 16M12 18.5C10.6258 18.5 9.5 17.3742 9.5 16M9.5 16C9.5 14.6242 10.6242 13.5 12 13.5M9.5 16C9.5 14.6258 10.6258 13.5 12 13.5M14.5 16C14.5 14.6242 13.3758 13.5 12 13.5M14.5 16C14.5 14.6258 13.3742 13.5 12 13.5"
                                                                    stroke="white" stroke-opacity="0.6"
                                                                    stroke-width="1.5" />
                                                                <path
                                                                    d="M17 22.75H7C2.59 22.75 1.25 21.41 1.25 17V15C1.25 10.59 2.59 9.25 7 9.25H17C21.41 9.25 22.75 10.59 22.75 15V17C22.75 21.41 21.41 22.75 17 22.75ZM7 10.75C3.42 10.75 2.75 11.43 2.75 15V17C2.75 20.57 3.42 21.25 7 21.25H17C20.58 21.25 21.25 20.57 21.25 17V15C21.25 11.43 20.58 10.75 17 10.75H7Z"
                                                                    fill="white" fill-opacity="0.6" />
                                                                <path
                                                                    d="M3.00163 20.9935C3.09543 21.0875 3.19491 21.1726 3.29963 21.2496C3.19009 21.1718 3.09117 21.088 3.00158 20.9984C2.91521 20.9121 2.83427 20.817 2.7588 20.7122C2.83226 20.8108 2.91295 20.9047 3.00163 20.9935ZM3.00163 11.0065C2.91295 11.0953 2.83225 11.1892 2.7588 11.2878C2.83426 11.183 2.91521 11.0879 3.00158 11.0016C3.09118 10.912 3.19009 10.8282 3.29964 10.7504C3.19491 10.8274 3.09543 10.9125 3.00163 11.0065ZM20.9984 11.0065C20.9046 10.9125 20.8051 10.8274 20.7003 10.7503C20.8099 10.8282 20.9088 10.912 20.9984 11.0016C21.0848 11.088 21.1658 11.183 21.2412 11.2879C21.1678 11.1893 21.0871 11.0953 20.9984 11.0065ZM20.9984 20.9935C21.0871 20.9047 21.1678 20.8107 21.2412 20.7121C21.1658 20.817 21.0848 20.912 20.9984 20.9984C20.9088 21.088 20.8099 21.1718 20.7003 21.2497C20.8051 21.1726 20.9046 21.0875 20.9984 20.9935Z"
                                                                    stroke="white" stroke-opacity="0.6"
                                                                    stroke-width="1.5" />
                                                            </svg>
            `);
            $(this).attr("status","1");
        }else{
            $(".preview [layer-target='"+layer_id+"']").css("pointer-events","fill");
            $(".preview [layer-target='"+layer_id+"']").attr("data-lock","0");
            $(this).empty();
            $(this).append(`
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.0001 19.2503C10.9801 19.2503 10.0401 18.7903 9.42005 17.9803C9.17005 17.6503 9.23005 17.1803 9.56005 16.9303C9.89005 16.6803 10.3601 16.7403 10.6101 17.0703C10.9401 17.5103 11.4501 17.7503 12.0001 17.7503C12.9601 17.7503 13.7501 16.9603 13.7501 16.0003C13.7501 15.6103 13.6301 15.2403 13.3901 14.9403C13.1401 14.6103 13.2001 14.1403 13.5301 13.8903C13.8601 13.6403 14.3301 13.7003 14.5801 14.0303C15.0201 14.6003 15.2501 15.2803 15.2501 16.0003C15.2501 17.7903 13.7901 19.2503 12.0001 19.2503Z" fill="white" fill-opacity="0.6"/>
<path d="M12.0001 18.5003C11.8916 18.5003 11.7844 18.4936 11.679 18.4805C11.785 18.4936 11.8922 18.5003 12.0001 18.5003ZM12.0001 18.5003C13.3758 18.5003 14.5001 17.3761 14.5001 16.0003C14.5001 17.3745 13.3743 18.5003 12.0001 18.5003Z" stroke="white" stroke-opacity="0.6" stroke-width="1.5"/>
<path d="M17 22.75H7C6.63 22.75 6.28 22.74 5.95 22.72C5.54 22.7 5.22 22.34 5.24 21.93C5.26 21.52 5.61 21.22 6.03 21.22C6.33 21.24 6.65 21.24 6.99 21.24H16.99C20.56 21.24 21.24 20.56 21.24 16.99V14.99C21.24 11.48 20.5 10.91 17.95 10.76C17.65 10.74 17.33 10.74 16.99 10.74H7C3.43 10.74 2.75 11.42 2.75 14.99V16.99C2.75 18.73 2.95 19.76 3.41 20.32C3.67 20.64 3.62 21.12 3.29 21.37C2.97 21.63 2.5 21.58 2.24 21.25C1.54 20.4 1.25 19.16 1.25 17V15C1.25 10.59 2.59 9.25 7 9.25H17C17.37 9.25 17.72 9.26 18.04 9.28C22 9.5 22.75 11.46 22.75 15V17C22.75 21.41 21.41 22.75 17 22.75Z" fill="white" fill-opacity="0.6"/>
<path d="M6.00764 21.9721C6.01045 21.9715 6.01351 21.9711 6.01682 21.9707C6.33077 21.99 6.65863 21.99 6.97624 21.99H6.99H16.99C17.5309 21.99 18.0252 21.975 18.4729 21.9339C18.0421 21.9778 17.5539 22 17 22H7C6.64804 22 6.31735 21.9906 6.00764 21.9721ZM20.9984 20.9984C20.7483 21.2486 20.4255 21.4532 20.0017 21.6109C20.3721 21.466 20.7034 21.2648 20.9841 20.9841C21.2648 20.7034 21.466 20.3721 21.6109 20.0018C21.4532 20.4255 21.2485 20.7483 20.9984 20.9984ZM22 17C22 17.5539 21.9778 18.0421 21.9339 18.4729C21.975 18.0252 21.99 17.5309 21.99 16.99V14.99C21.99 14.0937 21.9434 13.3433 21.8201 12.7231C21.7816 12.5294 21.7347 12.3438 21.6776 12.1672C21.9074 12.8706 22 13.794 22 15V17ZM2.17168 19.2426C2.2574 19.6772 2.3835 20.0716 2.57109 20.4114C2.2028 19.7601 2 18.7651 2 17V16.99C2 17.8824 2.05074 18.6295 2.17168 19.2426Z" stroke="white" stroke-opacity="0.6" stroke-width="1.5"/>
<mask id="path-5-inside-1_925_4063" fill="white">
<path d="M6 10.75C5.59 10.75 5.25 10.41 5.25 10V8C5.25 5.1 5.95 1.25 12 1.25C16.07 1.25 18.18 2.58 18.64 5.44C18.71 5.85 18.43 6.23 18.02 6.3C17.61 6.37 17.23 6.09 17.16 5.68C16.91 4.16 16.12 2.75 12 2.75C7.64 2.75 6.75 4.85 6.75 8V10C6.75 10.41 6.41 10.75 6 10.75Z"/>
</mask>
<path d="M6 10.75C5.59 10.75 5.25 10.41 5.25 10V8C5.25 5.1 5.95 1.25 12 1.25C16.07 1.25 18.18 2.58 18.64 5.44C18.71 5.85 18.43 6.23 18.02 6.3C17.61 6.37 17.23 6.09 17.16 5.68C16.91 4.16 16.12 2.75 12 2.75C7.64 2.75 6.75 4.85 6.75 8V10C6.75 10.41 6.41 10.75 6 10.75Z" fill="white" fill-opacity="0.6"/>
<path d="M18.64 5.44L17.159 5.6782L17.1602 5.68533L17.1614 5.69244L18.64 5.44ZM17.16 5.68L15.6799 5.92344L15.6814 5.93244L17.16 5.68ZM6 9.25C6.41843 9.25 6.75 9.58157 6.75 10H3.75C3.75 11.2384 4.76157 12.25 6 12.25V9.25ZM6.75 10V8H3.75V10H6.75ZM6.75 8C6.75 6.61366 6.93185 5.32715 7.58346 4.40002C8.15855 3.58178 9.31596 2.75 12 2.75V-0.25C8.63404 -0.25 6.41645 0.84322 5.12904 2.67498C3.91815 4.39785 3.75 6.48634 3.75 8H6.75ZM12 2.75C13.9069 2.75 15.1233 3.06792 15.8734 3.54115C16.5499 3.96789 16.9868 4.60743 17.159 5.6782L20.121 5.2018C19.8332 3.41257 18.9851 1.95711 17.4741 1.00385C16.0367 0.0970814 14.1631 -0.25 12 -0.25V2.75ZM17.1614 5.69244C17.0865 5.25385 17.3933 4.88529 17.7676 4.8214L18.2724 7.7786C19.4667 7.57471 20.3335 6.44615 20.1186 5.18756L17.1614 5.69244ZM17.7676 4.8214C18.2062 4.74651 18.5747 5.0533 18.6386 5.42756L15.6814 5.93244C15.8853 7.1267 17.0138 7.99349 18.2724 7.7786L17.7676 4.8214ZM18.6401 5.43656C18.4848 4.49228 18.1123 3.3063 16.9152 2.43313C15.7928 1.61447 14.1833 1.25 12 1.25V4.25C13.9367 4.25 14.7822 4.59053 15.1473 4.85687C15.4377 5.0687 15.5852 5.34772 15.6799 5.92344L18.6401 5.43656ZM12 1.25C9.61366 1.25 7.76509 1.82401 6.58882 3.23209C5.46393 4.57866 5.25 6.35741 5.25 8H8.25C8.25 6.49259 8.48107 5.64634 8.89118 5.15541C9.24991 4.72599 10.0263 4.25 12 4.25V1.25ZM5.25 8V10H8.25V8H5.25ZM5.25 10C5.25 9.58157 5.58157 9.25 6 9.25V12.25C7.23843 12.25 8.25 11.2384 8.25 10H5.25Z" fill="white" fill-opacity="0.6" mask="url(#path-5-inside-1_925_4063)"/>
<path d="M1.99994 22.7504C1.80994 22.7504 1.61994 22.6804 1.46994 22.5304C1.17994 22.2404 1.17994 21.7604 1.46994 21.4704L21.4699 1.47043C21.7599 1.18043 22.2399 1.18043 22.5299 1.47043C22.8199 1.76043 22.8199 2.24043 22.5299 2.53043L2.52994 22.5304C2.37994 22.6804 2.18994 22.7504 1.99994 22.7504Z" fill="white" fill-opacity="0.6"/>
</svg>


            `);
            $(this).attr("status","0");
        }
        
    });
    $( "#body-layer" ).sortable({
         cursor: "move",
         scroll: true,
         sort: function( event, ui ) {
            //  console.log(event);
         },
         start: function(evt, ui){
            $(ui.item).data('old-index' , ui.item.index());
            $(this).attr('data-previndex', ui.item.index());
        },
         update:function(event , ui){
            var inc = 0;
            $("#body-layer").children("div").map((value,index)=>{
                $(".preview [layer-target='"+$(index).attr("layer-id-nav")+"']").css("z-index",inc);
                inc++;
            });
            
            // $(".preview [layer-target='"+layer_id+"']").css("z-index",new_index-1);
         },
         receive: function(event, ui){
            var id = event.target.id;
            alert(id);
            },
     });
        interact('.resize-drag').resizable({
            edges: { top: true, left: true, bottom: true, right: true },
    listeners: {
      move: function (event) {
        let { x, y } = event.target.dataset

        x = (parseFloat(x) || 0) + event.deltaRect.left
        y = (parseFloat(y) || 0) + event.deltaRect.top

       
        var type = $(event.target).attr("data-type");
        if(type == "text"){
            Object.assign(event.target.style, {
                width: `${event.rect.width}px`,
                height: `auto`,
                transform: `translate(${x}px, ${y}px)`
                })
        }else{
            Object.assign(event.target.style, {
            width: `${event.rect.width}px`,
            height: `${event.rect.height}px`,
            transform: `translate(${x}px, ${y}px)`
            })
        }
        Object.assign(event.target.dataset, { x, y })
      }
    },
    inertia: true
})
.draggable({
    // enable inertial throwing
    inertia: true,
    // keep the element within the area of it's parent
    modifiers: [
    interact.modifiers.restrictRect({
        restriction: 'parent',
        endOnly: true
    })
    ],
    // enable autoScroll
    autoScroll: true,

    listeners: {
    // call this function on every dragmove event
    move: dragMoveListener,

    // call this function on every dragend event
    end (event) {
        var textEl = event.target.querySelector('p')

        textEl && (textEl.textContent =
        'moved a distance of ' +
        (Math.sqrt(Math.pow(event.pageX - event.x0, 2) +
                    Math.pow(event.pageY - event.y0, 2) | 0))
            .toFixed(2) + 'px')
    }
    }

});
function dragMoveListener (event) {

var target = event.target
// keep the dragged position in the data-x/data-y attributes
var x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx
var y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy

// translate the element
target.style.transform = 'translate(' + x + 'px, ' + y + 'px)'

// update the posiion attributes
target.setAttribute('data-x', x)
target.setAttribute('data-y', y)

}

window.dragMoveListener = dragMoveListener



 interact('.body-resize').resizable({
            edges: { top: true, left: true, bottom: true, right: true },
    listeners: {
      move: function (event) {
        let { x, y } = event.target.dataset

        x = (parseFloat(x) || 0) + event.deltaRect.left
        y = (parseFloat(y) || 0) + event.deltaRect.top

        Object.assign(event.target.style, {
          width: `${event.rect.width}px`,
          height: `${event.rect.height}px`,
          transform: `translate(${x}px, ${y}px)`
        })

        Object.assign(event.target.dataset, { x, y })
      }
    },
    inertia: true
})


        $(document).on("click", "#shape", function() {
            if ($('#text-template-show').css('display') !== 'none') {
                $('#text-template-show').slideToggle("slow");
            }
            if ($('#list-shape-show-edit').css('display') !== 'none') {
                $('#list-shape-show-edit').slideToggle("slow");
            }
            $('#list-shape-show').slideToggle("slow");
        });
        $(document).on("click", "#text-template", function() {
            if ($('#list-shape-show').css('display') !== 'none') {
                $('#list-shape-show').slideToggle("slow");
            }

            if ($('#list-shape-show-edit').css('display') !== 'none') {
                $('#list-shape-show-edit').slideToggle("slow");
            }
            $('#text-template-show').slideToggle("slow");
        });

        
        $(document).on("keyup", ".search_text", function() {
            $.get({
                url: "{{ route('dashboard.search.index') }}",
                "data": {
                    "search": $(this).val(),
                    "type": "template"
                }
            }).then((data) => {
                $("#result").empty();
                data.data.map((value, index) => {

                    var d = new Date(value.created_at);
                    var datestring = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate();
                    $("#result").append(`
                    <div class="flex items-center justify-center" style="background-color: #2f2f2f7d;border-radius: 12px;">
                               <div class="max-w-sm shadow  dark:border-gray-700">
                                    <a href="#" style="text-align: -webkit-center;">
                                        <img class="border border-gray-200 rounded-lg rounded-t-lg h-50 w-full" style="height:207px;width: 95%;margin-top: 18px;" src="${value.preview?Base_Url+value.preview:Base_Url+'Dashboard/image/logo.png'}" alt="" />
                                    </a>
                                    <div class="px-5">
                                        <a href="#">
                                            <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 text-white">${value.name}</h5>
                                        </a>
                                        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400" style="color:#9b9b9b!important;">Created in ${datestring}.</p>
                                   </div>
                                   <div class="grid grid-cols-2 gap-4 Client-Head mb-2" style="text-align: -webkit-center;">
                                       
                                   </div>
                                </div>
                           </div>   
                       `);
                });

            }).catch((error) => {
                if (error.status == 422) {
                    Swal.fire('Error 505 ', '', 'error')
                }
            });
        });



        $(document).on("change", ".view-template", function() {

            $.get({
                url: "{{ route('dashboard.template.index') }}",
                "data": {
                    "view": $(this).val(),
                }
            }).then((data) => {
                $("#result").empty();
                data.data.map((value, index) => {
                    var d = new Date(value.created_at);
                    var datestring = d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate();
                    $("#result").append(`
                    <div class="flex items-center justify-center" style="background-color: #2f2f2f7d;border-radius: 12px;">
                               <div class="max-w-sm shadow  dark:border-gray-700">
                                    <a href="#" style="text-align: -webkit-center;">
                                        <img class="border border-gray-200 rounded-lg rounded-t-lg h-50 w-full" style="height:207px;width: 95%;margin-top: 18px;" src="${value.preview?Base_Url+value.preview:Base_Url+'Dashboard/image/logo.png'}" alt="" />
                                    </a>
                                    <div class="px-5">
                                        <a href="#">
                                            <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 text-white">${value.name}</h5>
                                        </a>
                                        <p class="mb-3 font-normal text-gray-700 dark:text-gray-400" style="color:#9b9b9b!important;">Created in ${datestring}.</p>
                                   </div>
                                   <div class="grid grid-cols-2 gap-4 Client-Head mb-2" style="text-align: -webkit-center;">
                                       
                                   </div>
                                </div>
                           </div>   
                       `);
                });

            }).catch((error) => {
                if (error.status == 422) {
                    Swal.fire('Error 505 ', '', 'error')
                }
            });
        });


        var statusToolBar = false;
        $(document).on("click", "#text-template", function() {
            if (statusToolBar) {
                $(".toolbar").css("display", "block");
            } else {
                $(".toolbar").css("display", "none");
            }
        });






        $(document).on("click", "#btn_convert1", function() {
            var dataContentarray = [];
            var dataContentobject = {};
            var dataSend = {
                        "menu_id": "{{ $menu->id }}",
                        "name"  : $("#template-name").val(),
                        "style" : $("#html-content-holder").attr("style"),
                        "_token": $('meta[name="csrf-token"]').attr('content'),
            };
            var attributes;
           console.log($("#html-content-holder").children());
            $("#html-content-holder").children().map((value, index) => {
                

                var getAttrs ='';
                    $.each(index.attributes, function() {                        
                        getAttrs += this.name +'='+ "'"+this.value+"'" + ' ';
                    });
                
                var id = $(index).attr("el-id");
                var type = $(index).attr("data-type");
                if (type !== undefined) {
                    var zindex = $(index).css("z-index");
                    var targetlayer = $(index).attr("layer-target");
                    dataContentobject.type = type;
                    var randomresult ="menu_"+type+randomString();
                    if(id == undefined){
                        dataContentobject.dataid=randomresult;
                            if(type =="background"){
                                dataContentobject.content ="<img el-id='"+randomresult+"' data-hide='0' data-lock='0' "+getAttrs+"/>";
                                dataContentobject.zindex = $(index).css("z-index");
                                dataContentobject.targetlayer = $(index).attr("layer-target");
                            }else if(type =="video"){
                                dataContentobject.content ="<video el-id='"+randomresult+"' data-hide='0' data-lock='0' "+getAttrs+">"+$(index).html()+"/</video>";
                                dataContentobject.zindex = zindex;
                                dataContentobject.targetlayer = targetlayer;
                            }
                            else if(type =="shape"){
                                dataContentobject.content ="<canves el-id='"+randomresult+"' data-hide='0' data-lock='0' "+getAttrs+"></canves>";
                                dataContentobject.zindex = zindex;
                                dataContentobject.targetlayer = targetlayer;
                            }else if(type="text"){
                                dataContentobject.content ="<div  el-id='"+randomresult+"' data-hide='0' data-lock='0' "+getAttrs+">"+$(index).text()+"</div>";
                                dataContentobject.zindex = zindex;
                                dataContentobject.targetlayer = targetlayer;
                            }else{
                                dataContentobject.content ="<div el-id='"+randomresult+"' data-hide='0' data-lock='0' "+getAttrs+"></div>";
                                dataContentobject.zindex = zindex;
                                dataContentobject.targetlayer = targetlayer;
                            }

                            
                                       
                    }else{
                        // var zindex = $(index).children(".shape").css("z-index");
                        var lock =  $(index).attr("data-lock");
                        var hidden =  $(index).attr("data-hide");
                        if(type =="background"){
                                dataContentobject.content ="<img "+getAttrs+"/>";
                                dataContentobject.zindex = $(index).css("z-index");
                            }else if(type =="video"){
                                dataContentobject.content ="<video "+getAttrs+">"+$(index).html()+"/</video>";
                                dataContentobject.zindex = zindex;
                            }else if(type =="shape"){
                                dataContentobject.content ="<canves "+getAttrs+"></canves>";
                                dataContentobject.zindex = zindex;
                            }else if(type="text"){
                                dataContentobject.content ="<div "+getAttrs+">"+$(index).text()+"</div>";
                                dataContentobject.zindex = zindex;
                            }else{
                                dataContentobject.content ="<div "+getAttrs+"></div>";
                                dataContentobject.zindex = zindex;
                            }
                        // dataSend.content ="<div style='position:absolute'>"+ $(index).html()+"</div>";
                        dataContentobject.id = id;
                        dataContentobject.lock = lock;
                        dataContentobject.hidden = hidden;
                    }
                }
                dataContentarray.push(dataContentobject);
                dataContentobject = {};
            });
            dataSend.arrayContent = dataContentarray;
            AmagiLoader.show();
            $.post({
                        "url": Base_Url + "Dashboard/template/save/action",
                        data: dataSend,
                    }).then((data) => {
                        
                        var partscreen = document.getElementById("html-content-holder");
                            html2canvas(partscreen).then(function(canvas) {
                                const imgWidth = "{{ $menu->width }}";
                                const pageHeight = "{{ $menu->height }}";
                                const imgHeight = canvas.height * imgWidth / canvas.width;
                                const heightLeft = imgHeight;
                                const contentDataURL = canvas.toDataURL('image/png');

                                $.post({
                                    "url": "{{ route('dashboard.template.store.preview') }}",
                                    "data": {
                                        "image": contentDataURL,
                                        "id": {{ $menu->id }},
                                        _token: '{{ csrf_token() }}'
                                    }
                                }).then((data) => {
                                    AmagiLoader.hide();
                                    Swal.fire('Saved', '', 'success');
                                });

                        });
                        while (dataContentarray.length > 0) {
                            dataContentarray.pop();
                        }
                        dataContentobject = {};
                        setTimeout(function(){
                            location.reload(true);
                        }, 2000)
            });
        });
        function randomString() {
            var chars = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";
            var string_length = 8;
            var randomstring = '';
            for (var i=0; i<string_length; i++) {
                var rnum = Math.floor(Math.random() * chars.length);
                randomstring += chars.substring(rnum,rnum+1);
            }
            return randomstring;
        }
        
        
        $(document).on("click","#layer-text",function(){
	    var result = $(this).attr("data-target");
        var randomStringb = randomString();
    	$("#html-content-holder").append(`
    		<div data-type="text" data-id="0" layer-type="text" layer-target="target${randomStringb}"  contenteditable="true" spellcheck="false" class="resize-drag shape "  style="width:250px!important;z-index:${zindex};font-size: 43px;border:1px solid #fff;background-color: #0000;color:#fff;position:absolute">
    				Add Text
    		</div>
    	`);
    	
    	 SaveCacheDateToLayer("target"+randomStringb,"text",zindex);
        zindex++;
	// }else{
	// 	$("div[data-target="+result+"]").append(`
    //         <div  contenteditable="true" spellcheck="false" class="h-20 shape box"  style="background-color: #0000;width:50%;border:1px solid #fff;color:#fff;">    
    //             Text     
    //     	</div>
	// 	`);
	// }
});





window.addEventListener("beforeunload", function (e) {
  var message = "Are you sure you want to leave Before save?";
    (e || window.event).returnValue = message;     
      return message;                                
    });
    
    
    $(document).on("input",".number_size",function(){
    var number = $(this).val();
    var numb = 0;

    $(".size-number-list").empty();
    for(var i=1;i<=number;i++){
        $(".size-number-list").append(`
            <div style="text-align-last: start;">
            <label
                class="inline-block pl-[0.15rem] hover:cursor-pointer"for="flexSwitchCheckDefault">size 1</label>
            <input
                class="mr-2 mt-[0.3rem] h-3.5 w-8 appearance-none rounded-[0.4375rem] bg-neutral-300 before:pointer-events-none before:absolute before:h-3.5 before:w-3.5 before:rounded-full before:bg-transparent before:content-[''] after:absolute after:z-[2] after:-mt-[0.1875rem] after:h-5 after:w-5 after:rounded-full after:border-none after:bg-neutral-100 after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)] after:transition-[background-color_0.2s,transform_0.2s] after:content-[''] checked:bg-primary checked:after:absolute checked:after:z-[2] checked:after:-mt-[3px] checked:after:ml-[1.0625rem] checked:after:h-5 checked:after:w-5 checked:after:rounded-full checked:after:border-none checked:after:bg-primary checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)] checked:after:transition-[background-color_0.2s,transform_0.2s] checked:after:content-[''] hover:cursor-pointer focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[3px_-1px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-5 focus:after:w-5 focus:after:rounded-full focus:after:content-[''] checked:focus:border-primary checked:focus:bg-primary checked:focus:before:ml-[1.0625rem] checked:focus:before:scale-100 checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:bg-neutral-600 dark:after:bg-neutral-400 dark:checked:bg-primary dark:checked:after:bg-primary dark:focus:before:shadow-[3px_-1px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca]"
                type="checkbox" role="switch" id="flexSwitchCheckDefault" onclick='handleClick(this);' name="sizes[${numb}][size]" />
                </div>
            
            <div style="text-align-last: end;">
                <label
                    class="inline-block pl-[0.15rem] hover:cursor-pointer"for="flexSwitchCheckDefault">price 1</label>
                <input
                    class="mr-2 mt-[0.3rem] h-3.5 w-8 appearance-none rounded-[0.4375rem] bg-neutral-300 before:pointer-events-none before:absolute before:h-3.5 before:w-3.5 before:rounded-full before:bg-transparent before:content-[''] after:absolute after:z-[2] after:-mt-[0.1875rem] after:h-5 after:w-5 after:rounded-full after:border-none after:bg-neutral-100 after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)] after:transition-[background-color_0.2s,transform_0.2s] after:content-[''] checked:bg-primary checked:after:absolute checked:after:z-[2] checked:after:-mt-[3px] checked:after:ml-[1.0625rem] checked:after:h-5 checked:after:w-5 checked:after:rounded-full checked:after:border-none checked:after:bg-primary checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)] checked:after:transition-[background-color_0.2s,transform_0.2s] checked:after:content-[''] hover:cursor-pointer focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[3px_-1px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-5 focus:after:w-5 focus:after:rounded-full focus:after:content-[''] checked:focus:border-primary checked:focus:bg-primary checked:focus:before:ml-[1.0625rem] checked:focus:before:scale-100 checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:bg-neutral-600 dark:after:bg-neutral-400 dark:checked:bg-primary dark:checked:after:bg-primary dark:focus:before:shadow-[3px_-1px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca]"
                    type="checkbox" role="switch" id="flexSwitchCheckDefault" onclick='handleClick(this);' name="sizes[${numb}][price]" />
            </div>
        `);  
        numb++; 
    }
});
    </script>
@endsection
